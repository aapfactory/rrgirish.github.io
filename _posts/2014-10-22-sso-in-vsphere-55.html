---
layout: post
title: SSO in Vsphere 5.5
date: '2014-10-22T20:56:00.001-07:00'
author: Girish Rao
tags:
- vcenter
modified_time: '2014-10-22T20:59:23.599-07:00'
thumbnail: http://lh5.ggpht.com/-14joFo3Ves8/VEh8Vj1Op8I/AAAAAAAACiM/svR3W3-i_8A/s72-c/image_thumb%25255B2%25255D.png?imgmax=800
blogger_id: tag:blogger.com,1999:blog-984868599755994151.post-4853002640166784051
blogger_orig_url: http://www.virtualtipsntricks.com/2014/10/sso-in-vsphere-55.html
---

<div dir="ltr" style="text-align: left;" trbidi="on"><br />Single Sign-On 2.0 has a completely new architecture, and has only a few components which are retained from the original system for legacy support (specifically the Admin Service and Lookup Server). The below figure shows the architecture of SSO in vSphere 5.5<br /><a href="http://lh5.ggpht.com/-alUGx-kkB2M/VEh8TtCOvqI/AAAAAAAACiE/5SQY4iIxdgw/s1600-h/image%25255B4%25255D.png"><img alt="image" border="0" src="http://lh5.ggpht.com/-14joFo3Ves8/VEh8Vj1Op8I/AAAAAAAACiM/svR3W3-i_8A/image_thumb%25255B2%25255D.png?imgmax=800" height="223" style="border-bottom: 0px; border-left: 0px; border-right: 0px; border-top: 0px; display: block; float: none; margin-left: auto; margin-right: auto;" title="image" width="504" /></a><br />The original two services from SSO 5.1 have been replaced by a very different set of services. We now have a series of services presented in the Windows Service Manager, each with a specific role:<br /> 1. VMware Directory Service<br /> 2. VMware Certificate ServiceVMware Secure Token Service<br /> 3. VMware Identity Management Service<br /> 4. VMware Kdc Service<br />&nbsp;&nbsp;&nbsp; 5. VMware Secure Token Service <br /><h4>&nbsp;</h4><h4>What about a Database?</h4>You will often hear it asserted that SSO 5.5.0 does not require a database. This is not entirely true, but what they are suggesting is that SSO 5.5 does not require an external or preconfigured SQL database. <br />SSO 5.5 does have a database which it uses to store configuration details regarding its running state: identity sources, system domain users, principal associations, replication agreements, and other configuration details. Instead of using a standard SQL relational database server, SSO 5.5 uses a built-in VMware solution which is new for vSphere 5.5: VMware Directory Service. This service is an LDAP server implementation, which will run on the same host machine as the Single Sign-On services.<br /><h4>Deployment Modes</h4>There are three options which the user is presented with during installation:<br /> 1. SSO for the first vCenter Server<br /> 2. SSO for an additional vCenter Server in an existing site<br /> 3. SSO for an additional vCenter Server with a new site<br />Functionally, these three options are the same as Primary, High Availability, and Multisite, respectively. <br /><h4>Authentication</h4>SSO 5.5 still supports the option to use Active Directory via LDAP for authentication, but it also has a much more powerful system available: Active Directory (Integrated Windows Authentication).<br />One major advantage to this system is that we need only to add a single domain to communicate with all domains within that forest. This should eliminate many of the challenges we faced when using LDAP.<br />When adding an Identity Source using Integrated Active Directory, we can choose to join the Domain using the Machine Account or a Service Principal Name (SPN). An SPN is a special account which needs to be manually created in Active Directory prior to adding the identity source.<br />The SSO system domain still exists, however here it is known as <strong>vsphere.local</strong>. The default super-user has been changed to <strong><a href="mailto:administrator@vsphere.local">administrator@vsphere.local</a>.</strong><br /><strong>vTip: When migrating from vSphere 5.1 to 5.5, the credentials and permissions of admin@System-Domain will be automatically migrated to the new <a href="mailto:administrator@vsphere.local">administrator@vsphere.local</a>.</strong><br /><strong>vTip: The concept of a Master Password is not applicable for vSphere 5.5</strong><br />In subsequent posts, I will try writing about the various services in detail.</div>